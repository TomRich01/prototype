function twentyfour_gallery(a,b){this.slides=[];this.templates={gallery:null,stage:null,media_bar:null};this.settings={fullscreen_icon_class:"icon-screen-full",play_icon_class:"icon-playback-play",pause_icon_class:"icon-playback-pause",nav_left_icon_class:"icon-angle-left",nav_right_icon_class:"icon-angle-right",toggle_tray_icon_class:"icon-th",gallery_template_selector:"#nexus_gallery_template",tray_template_selector:"#nexus_gallery_tray_template",media_bar_template_selector:"#nexus_gallery_media_bar_template",stage_template_selector:"#nexus_gallery_stage_template",query_selector:".nexus.gallery"};this.go_to_slide=function(c){alert(c)};this.add_event_listeners=function(){window.test=$(this.element);console.debug(test);$(this.element).find(".action_area.nav.left").click(function(){})};this.generate_slides=function(){var d="";for(var c=0;c<this.slides.length;c++){d+=$(this.slides[c])[0].outerHTML}return d};this.update_settings=function(c){$.extend(this.settings,c)};this.update_templates=function(c){c=c||{};c.slides=this.generate_slides();$.extend(c,this.settings);this.templates.stage=nexus.get_template(this.settings.stage_template_selector);this.templates.stage=nexus.parse_template(this.templates.stage,c);c.stage=this.templates.stage;this.templates.tray=nexus.get_template(this.settings.tray_template_selector);this.templates.tray=nexus.parse_template(this.templates.tray,c);c.tray=this.templates.tray;this.templates.media_bar=nexus.get_template(this.settings.media_bar_template_selector);this.templates.media_bar=nexus.parse_template(this.templates.media_bar,c);c.media_bar=this.templates.media_bar;this.templates.gallery=nexus.get_template(this.settings.gallery_template_selector);this.templates.gallery=nexus.parse_template(this.templates.gallery,c)};this.init=function(c){var d=$(c);gallery=this;$(d).each(function(){gallery.element=$(this);var e=$(this).find(".slide");$(e).each(function(f){gallery.slides[f]=$(this)});gallery.update_templates();$(gallery.element).html(gallery.templates.gallery);console.debug(gallery.element)});return this.element}.bind(this);a=a||".gallery24";return this.init(a)};